
2018-05-22 12:32:10,222 [DEBUG]: (tavern.schemas.files:30) Verifying /tmp/tmp06Eqzh.yaml against /home/luis/.local/lib/python2.7/site-packages/tavern/schemas/tests.schema.yaml 2018-05-22 12:32:10,277 [INFO]: (tavern.core:70) Running test : get_packages 2018-05-22 12:32:10,277 [DEBUG]: (tavern.core:76) Entering context for requests 2018-05-22 12:32:10,278 [DEBUG]: (tavern.request.rest:168) Request args: {'url': 'http://sp.int3.sonata-nfv.eu:32001/api/v2/sessions', 'headers': {'Content-Type': 'application/json'}, 'json': {'username': 'sonata', 'password': '1234'}, 'method': 'POST', 'verify': True} 2018-05-22 12:32:10,278 [INFO]: (tavern.core:99) Running stage : get_token 2018-05-22 12:32:15,720 [INFO]: (tavern.response.rest:72) Response: '<Response [200]>' ({"username":"sonata","session_began_at":"2018-05-22 10:32:15 UTC","token":{"access_token":"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJvZnRfSkdXNDlvS1RuTklMZV9sVDhOeTdLa3BtVUxOUGNfS2FFd3VocW9BIn0.eyJqdGkiOiJkNzRiMWUwOC0yNTUyLTQyNTktOWNhNi1lYTllOGJkYWE2OWUiLCJleHAiOjE1MjY5ODYzMzUsIm5iZiI6MCwiaWF0IjoxNTI2OTg1MTM1LCJpc3MiOiJodHRwOi8vc29uLWtleWNsb2FrOjU2MDEvYXV0aC9yZWFsbXMvc29uYXRhIiwiYXVkIjoiYWRhcHRlciIsInN1YiI6ImIyMjEzN2MyLWY1NjMtNDY4NC1hYTMzLTNiYThiNDA5NmE3ZSIsInR5cCI6IkJlYXJlciIsImF6cCI6ImFkYXB0ZXIiLCJhdXRoX3RpbWUiOjAsInNlc3Npb25fc3RhdGUiOiI3MTIyODEyMC01NzA0LTRlNzYtYTE5YS02YTk2ODhjMTRkNzgiLCJhY3IiOiIxIiwiYWxsb3dlZC1vcmlnaW5zIjpbImh0dHA6Ly9zb24tZ3RrdXNyOjU2MDAiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImFkbWluIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJyZWFsbS1tYW5hZ2VtZW50Ijp7InJvbGVzIjpbInZpZXctcmVhbG0iLCJ2aWV3LWlkZW50aXR5LXByb3ZpZGVycyIsIm1hbmFnZS1pZGVudGl0eS1wcm92aWRlcnMiLCJpbXBlcnNvbmF0aW9uIiwicmVhbG0tYWRtaW4iLCJjcmVhdGUtY2xpZW50IiwibWFuYWdlLXVzZXJzIiwicXVlcnktcmVhbG1zIiwidmlldy1hdXRob3JpemF0aW9uIiwicXVlcnktY2xpZW50cyIsInF1ZXJ5LXVzZXJzIiwibWFuYWdlLWV2ZW50cyIsIm1hbmFnZS1yZWFsbSIsInZpZXctZXZlbnRzIiwidmlldy11c2VycyIsInZpZXctY2xpZW50cyIsIm1hbmFnZS1hdXRob3JpemF0aW9uIiwibWFuYWdlLWNsaWVudHMiLCJxdWVyeS1ncm91cHMiXX0sImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSJdfX0sIm5hbWUiOiJBZG1pbiBEZWZhdWx0IiwicHJlZmVycmVkX3VzZXJuYW1lIjoic29uYXRhIiwiZ2l2ZW5fbmFtZSI6IkFkbWluIiwiZmFtaWx5X25hbWUiOiJEZWZhdWx0IiwiZW1haWwiOiJzb25hdGEuYWRtaW5AZW1haWwuY29tIn0.LPH16ISpl7wr8iyzxH8kvlrS9Ir9JQ5ZF9iGXcXfjS7HHsenVRKN-u2QE3ZV1rY74K7OOZi65TYYCKDc9_g8yJPOrl3CKFlspjNDRGQL_q_n3St51W9eRKNKP2SQteYu82QmDbv1d6fK4o5PouycUr3B29allNyzfMfD5R19rtN0mp6yrM4pTh5BR1Ntiw2FAePDVgZf1AUSwtr_VZ8iMR7zzUbcJ296i4yUr5YtPUOlMThUD06Uy2O2xR_KJ_yQKDHdPMEFS8ZdUsSVdUqLaUvYeRMAKtBXYJhrfQ0uCOnRYRXLkgg3b9fd7u0TtMXQsiF5aTEEU9S5E4Q_pRxi6g","expires_in":1200,"refresh_expires_in":1800,"refresh_token":"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJvZnRfSkdXNDlvS1RuTklMZV9sVDhOeTdLa3BtVUxOUGNfS2FFd3VocW9BIn0.eyJqdGkiOiI5NGYzZjFhMi03Y2Y4LTQ2MDgtYWY2Yy0yODJmYWMwN2QxOTEiLCJleHAiOjE1MjY5ODY5MzUsIm5iZiI6MCwiaWF0IjoxNTI2OTg1MTM1LCJpc3MiOiJodHRwOi8vc29uLWtleWNsb2FrOjU2MDEvYXV0aC9yZWFsbXMvc29uYXRhIiwiYXVkIjoiYWRhcHRlciIsInN1YiI6ImIyMjEzN2MyLWY1NjMtNDY4NC1hYTMzLTNiYThiNDA5NmE3ZSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJhZGFwdGVyIiwiYXV0aF90aW1lIjowLCJzZXNzaW9uX3N0YXRlIjoiNzEyMjgxMjAtNTcwNC00ZTc2LWExOWEtNmE5Njg4YzE0ZDc4IiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImFkbWluIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJyZWFsbS1tYW5hZ2VtZW50Ijp7InJvbGVzIjpbInZpZXctcmVhbG0iLCJ2aWV3LWlkZW50aXR5LXByb3ZpZGVycyIsIm1hbmFnZS1pZGVudGl0eS1wcm92aWRlcnMiLCJpbXBlcnNvbmF0aW9uIiwicmVhbG0tYWRtaW4iLCJjcmVhdGUtY2xpZW50IiwibWFuYWdlLXVzZXJzIiwicXVlcnktcmVhbG1zIiwidmlldy1hdXRob3JpemF0aW9uIiwicXVlcnktY2xpZW50cyIsInF1ZXJ5LXVzZXJzIiwibWFuYWdlLWV2ZW50cyIsIm1hbmFnZS1yZWFsbSIsInZpZXctZXZlbnRzIiwidmlldy11c2VycyIsInZpZXctY2xpZW50cyIsIm1hbmFnZS1hdXRob3JpemF0aW9uIiwibWFuYWdlLWNsaWVudHMiLCJxdWVyeS1ncm91cHMiXX0sImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSJdfX19.a9FQdVRiWkUFhvYwkB5F8559h-N8c3WmmC1qxmMuX9vJ5VsdODPWqaTqojEOuqDhNHvGs8LxjdClceZbnanf1NRkn8RJUtk874i0zv1Wk87jPUfH1QGgs6xWEyOlxUnbIUch0uYExwp-e9c66NNr5MEp7ag4GU3daZHEvkJA886AcObE31sz_SkkYIbXR9KeZSnjr9MKZzMx289iP0dBgeu_WXDRrVaNo7DMjSYMst7MvLEyofYQ9yX0WImNnM2Yr2KZXi2Cx3lx04bvEUBWmZ_XnG-CxT-EVqrj0QKccKIvP5GUJX0UMZ66IZtTRNQ5IEM7NULD9R4pbsLqOOZhsw","token_type":"bearer","not-before-policy":0,"session_state":"71228120-5704-4e76-a19a-6a9688c14d78"}}) 2018-05-22 12:32:15,721 [DEBUG]: (tavern.response.rest:213) Saved {'test_login_token': u'eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJvZnRfSkdXNDlvS1RuTklMZV9sVDhOeTdLa3BtVUxOUGNfS2FFd3VocW9BIn0.eyJqdGkiOiJkNzRiMWUwOC0yNTUyLTQyNTktOWNhNi1lYTllOGJkYWE2OWUiLCJleHAiOjE1MjY5ODYzMzUsIm5iZiI6MCwiaWF0IjoxNTI2OTg1MTM1LCJpc3MiOiJodHRwOi8vc29uLWtleWNsb2FrOjU2MDEvYXV0aC9yZWFsbXMvc29uYXRhIiwiYXVkIjoiYWRhcHRlciIsInN1YiI6ImIyMjEzN2MyLWY1NjMtNDY4NC1hYTMzLTNiYThiNDA5NmE3ZSIsInR5cCI6IkJlYXJlciIsImF6cCI6ImFkYXB0ZXIiLCJhdXRoX3RpbWUiOjAsInNlc3Npb25fc3RhdGUiOiI3MTIyODEyMC01NzA0LTRlNzYtYTE5YS02YTk2ODhjMTRkNzgiLCJhY3IiOiIxIiwiYWxsb3dlZC1vcmlnaW5zIjpbImh0dHA6Ly9zb24tZ3RrdXNyOjU2MDAiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImFkbWluIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJyZWFsbS1tYW5hZ2VtZW50Ijp7InJvbGVzIjpbInZpZXctcmVhbG0iLCJ2aWV3LWlkZW50aXR5LXByb3ZpZGVycyIsIm1hbmFnZS1pZGVudGl0eS1wcm92aWRlcnMiLCJpbXBlcnNvbmF0aW9uIiwicmVhbG0tYWRtaW4iLCJjcmVhdGUtY2xpZW50IiwibWFuYWdlLXVzZXJzIiwicXVlcnktcmVhbG1zIiwidmlldy1hdXRob3JpemF0aW9uIiwicXVlcnktY2xpZW50cyIsInF1ZXJ5LXVzZXJzIiwibWFuYWdlLWV2ZW50cyIsIm1hbmFnZS1yZWFsbSIsInZpZXctZXZlbnRzIiwidmlldy11c2VycyIsInZpZXctY2xpZW50cyIsIm1hbmFnZS1hdXRob3JpemF0aW9uIiwibWFuYWdlLWNsaWVudHMiLCJxdWVyeS1ncm91cHMiXX0sImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSJdfX0sIm5hbWUiOiJBZG1pbiBEZWZhdWx0IiwicHJlZmVycmVkX3VzZXJuYW1lIjoic29uYXRhIiwiZ2l2ZW5fbmFtZSI6IkFkbWluIiwiZmFtaWx5X25hbWUiOiJEZWZhdWx0IiwiZW1haWwiOiJzb25hdGEuYWRtaW5AZW1haWwuY29tIn0.LPH16ISpl7wr8iyzxH8kvlrS9Ir9JQ5ZF9iGXcXfjS7HHsenVRKN-u2QE3ZV1rY74K7OOZi65TYYCKDc9_g8yJPOrl3CKFlspjNDRGQL_q_n3St51W9eRKNKP2SQteYu82QmDbv1d6fK4o5PouycUr3B29allNyzfMfD5R19rtN0mp6yrM4pTh5BR1Ntiw2FAePDVgZf1AUSwtr_VZ8iMR7zzUbcJ296i4yUr5YtPUOlMThUD06Uy2O2xR_KJ_yQKDHdPMEFS8ZdUsSVdUqLaUvYeRMAKtBXYJhrfQ0uCOnRYRXLkgg3b9fd7u0TtMXQsiF5aTEEU9S5E4Q_pRxi6g'} for 'body' from response 2018-05-22 12:32:15,721 [DEBUG]: (tavern.response.rest:197) Nothing expected to save for headers 2018-05-22 12:32:15,722 [DEBUG]: (tavern.response.rest:197) Nothing expected to save for redirect_query_params 2018-05-22 12:32:15,722 [DEBUG]: (tavern.response.rest:127) No save function 2018-05-22 12:32:15,723 [DEBUG]: (tavern.response.rest:175) Validating body for {} 2018-05-22 12:32:15,724 [DEBUG]: (tavern.response.base:57) Nothing to check against 2018-05-22 12:32:15,725 [DEBUG]: (tavern.response.rest:175) Validating headers for {'content-type': 'application/json'} 2018-05-22 12:32:15,726 [DEBUG]: (tavern.response.base:67) expected = {'content-type': 'application/json'}, actual = {'Content-Length': '3565', 'Content-Type': 'application/json', 'X-Content-Type-Options': 'nosniff'} 2018-05-22 12:32:15,728 [DEBUG]: (tavern.response.base:96) content-type: application/json vs application/json 2018-05-22 12:32:15,728 [DEBUG]: (tavern.response.base:105) Key content-type was present and matched 2018-05-22 12:32:15,728 [DEBUG]: (tavern.response.rest:175) Validating redirect_query_params for {} 2018-05-22 12:32:15,728 [DEBUG]: (tavern.response.base:57) Nothing to check against 2018-05-22 12:32:15,728 [INFO]: (tavern.printer:10) PASSED: get_token 2018-05-22 12:32:15,728 [DEBUG]: (tavern.request.rest:168) Request args: {'url': 'http://sp.int3.sonata-nfv.eu:32001/api/v2/packages', 'headers': {'content-type': 'application/json', 'authorization': 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJvZnRfSkdXNDlvS1RuTklMZV9sVDhOeTdLa3BtVUxOUGNfS2FFd3VocW9BIn0.eyJqdGkiOiJkNzRiMWUwOC0yNTUyLTQyNTktOWNhNi1lYTllOGJkYWE2OWUiLCJleHAiOjE1MjY5ODYzMzUsIm5iZiI6MCwiaWF0IjoxNTI2OTg1MTM1LCJpc3MiOiJodHRwOi8vc29uLWtleWNsb2FrOjU2MDEvYXV0aC9yZWFsbXMvc29uYXRhIiwiYXVkIjoiYWRhcHRlciIsInN1YiI6ImIyMjEzN2MyLWY1NjMtNDY4NC1hYTMzLTNiYThiNDA5NmE3ZSIsInR5cCI6IkJlYXJlciIsImF6cCI6ImFkYXB0ZXIiLCJhdXRoX3RpbWUiOjAsInNlc3Npb25fc3RhdGUiOiI3MTIyODEyMC01NzA0LTRlNzYtYTE5YS02YTk2ODhjMTRkNzgiLCJhY3IiOiIxIiwiYWxsb3dlZC1vcmlnaW5zIjpbImh0dHA6Ly9zb24tZ3RrdXNyOjU2MDAiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImFkbWluIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJyZWFsbS1tYW5hZ2VtZW50Ijp7InJvbGVzIjpbInZpZXctcmVhbG0iLCJ2aWV3LWlkZW50aXR5LXByb3ZpZGVycyIsIm1hbmFnZS1pZGVudGl0eS1wcm92aWRlcnMiLCJpbXBlcnNvbmF0aW9uIiwicmVhbG0tYWRtaW4iLCJjcmVhdGUtY2xpZW50IiwibWFuYWdlLXVzZXJzIiwicXVlcnktcmVhbG1zIiwidmlldy1hdXRob3JpemF0aW9uIiwicXVlcnktY2xpZW50cyIsInF1ZXJ5LXVzZXJzIiwibWFuYWdlLWV2ZW50cyIsIm1hbmFnZS1yZWFsbSIsInZpZXctZXZlbnRzIiwidmlldy11c2VycyIsInZpZXctY2xpZW50cyIsIm1hbmFnZS1hdXRob3JpemF0aW9uIiwibWFuYWdlLWNsaWVudHMiLCJxdWVyeS1ncm91cHMiXX0sImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSJdfX0sIm5hbWUiOiJBZG1pbiBEZWZhdWx0IiwicHJlZmVycmVkX3VzZXJuYW1lIjoic29uYXRhIiwiZ2l2ZW5fbmFtZSI6IkFkbWluIiwiZmFtaWx5X25hbWUiOiJEZWZhdWx0IiwiZW1haWwiOiJzb25hdGEuYWRtaW5AZW1haWwuY29tIn0.LPH16ISpl7wr8iyzxH8kvlrS9Ir9JQ5ZF9iGXcXfjS7HHsenVRKN-u2QE3ZV1rY74K7OOZi65TYYCKDc9_g8yJPOrl3CKFlspjNDRGQL_q_n3St51W9eRKNKP2SQteYu82QmDbv1d6fK4o5PouycUr3B29allNyzfMfD5R19rtN0mp6yrM4pTh5BR1Ntiw2FAePDVgZf1AUSwtr_VZ8iMR7zzUbcJ296i4yUr5YtPUOlMThUD06Uy2O2xR_KJ_yQKDHdPMEFS8ZdUsSVdUqLaUvYeRMAKtBXYJhrfQ0uCOnRYRXLkgg3b9fd7u0TtMXQsiF5aTEEU9S5E4Q_pRxi6g'}, 'method': 'GET', 'verify': True} 2018-05-22 12:32:15,729 [INFO]: (tavern.core:99) Running stage : get_packages 2018-05-22 12:32:15,963 [INFO]: (tavern.response.rest:72) Response: '<Response [200]>' ([{"created_at":"2018-05-22T10:32:08.593+00:00","md5":"bb4fc843774a1992d85b5666636a589e","pd":{"description":"Example service with three chained empty VNFs","descriptor_version":"1.0","entry_service_template":"/service_descriptors/nsd.yml","maintainer":"Manuel Peuster, Paderborn University, manuel.peuster@uni-paderborn.de","name":"sonata-empty-service","package_content":[{"content-type":"application/sonata.service_descriptor","md5":"fcbce3ca1d7db2ae1c77f20c52d09cc5","name":"/service_descriptors/nsd.yml"},{"content-type":"application/sonata.function_descriptor","md5":"f31bb18d6eabec1335fc3070f1a1eec9","name":"/function_descriptors/empty-vnf3-vnfd.yml"},{"content-type":"application/sonata.function_descriptor","md5":"24964c56ebabd0cf8c0e697a671ab531","name":"/function_descriptors/empty-vnf2-vnfd.yml"},{"content-type":"application/sonata.function_descriptor","md5":"626429b0bd9b7be8c1b3e87f1e24e1ab","name":"/function_descriptors/empty-vnf1-vnfd.yml"}],"schema":"https://raw.githubusercontent.com/sonata-nfv/son-schema/master/package-descriptor/pd-schema.yml","sealed":true,"vendor":"eu.sonata-nfv.package","version":"0.4"},"signature":null,"son_package_uuid":"0a100244-afaa-4bb3-8eda-ef817d9c30d4","status":"active","updated_at":"2018-05-22T10:32:09.391+00:00","username":"sonata","uuid":"5162c295-ede4-4dac-96c5-5760a286787b"}]) 2018-05-22 12:32:15,963 [DEBUG]: (tavern.response.rest:197) Nothing expected to save for body 2018-05-22 12:32:15,963 [DEBUG]: (tavern.response.rest:197) Nothing expected to save for headers 2018-05-22 12:32:15,963 [DEBUG]: (tavern.response.rest:197) Nothing expected to save for redirect_query_params 2018-05-22 12:32:15,963 [DEBUG]: (tavern.response.rest:127) No save function 2018-05-22 12:32:15,963 [DEBUG]: (tavern.response.rest:175) Validating body for {} 2018-05-22 12:32:15,963 [DEBUG]: (tavern.response.base:57) Nothing to check against 2018-05-22 12:32:15,963 [DEBUG]: (tavern.response.rest:175) Validating headers for {} 2018-05-22 12:32:15,963 [DEBUG]: (tavern.response.base:57) Nothing to check against 2018-05-22 12:32:15,963 [DEBUG]: (tavern.response.rest:175) Validating redirect_query_params for {} 2018-05-22 12:32:15,963 [DEBUG]: (tavern.response.base:57) Nothing to check against 2018-05-22 12:32:15,963 [INFO]: (tavern.printer:10) PASSED: get_packages
